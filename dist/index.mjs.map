{"version":3,"file":"index.mjs","sources":["../node_modules/mitt/dist/mitt.mjs","../index.ts"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","/**\n * @source https://github.com/artemsites/dom\n * @source https://gitverse.ru/artemsites/dom\n *\n * @api:\n * createScope - creating an object in the DOM for working with the library\n * ref - reactive state\n * data-class is an attribute of an HTML element for dynamic class management\n */\nimport mitt from \"mitt\";\n\ninterface ComponentInstance {\n    [key: string]: any;\n}\n\ninterface State {\n    value: any;\n}\n\ndeclare global {\n    interface Window {\n        [key: string]: any;\n    }\n}\n\nconst emitter = mitt();\n\nlet stateNamesHashes = new Map();\n\nexport function createScope(\n    scopeId: string,\n    scope: () => ComponentInstance,\n    alias: string = \"\",\n) {\n    const $wrapper = document.getElementById(scopeId);\n\n    if ($wrapper) {\n        const scopeInstance = scope();\n\n        // @note handle data-click\n        handlerClickReactive($wrapper, scopeInstance);\n\n        // @note handle data-class\n        handlerClassesReactive($wrapper, scopeInstance);\n\n        // @note handle input[data-value]\n        handlerInputDataValueReactive($wrapper, scopeInstance);\n\n        if (alias !== \"\") {\n            window[alias] = scopeInstance;\n        } else {\n            window[scopeId] = scopeInstance;\n        }\n    } else {\n        throw Error(\"Нет wrapper: #\" + scopeId);\n    }\n}\n\nexport function createComponent(wrapperClass: string, component: () => {}) {\n    const wrappers = document.getElementsByClassName(\n        wrapperClass,\n    ) as HTMLCollection;\n    for (let $wrapper of wrappers) {\n        if ($wrapper) {\n            const componentInstance: ComponentInstance = component();\n            if (isObject(componentInstance)) {\n                // @note handle data-ref\n                const refsInDom = $wrapper.querySelectorAll(\n                    `[data-ref]`,\n                ) as NodeListOf<HTMLElement>;\n                refsInDom.forEach(($refEl) => {\n                    const refName = $refEl.getAttribute(\"data-ref\");\n                    if (refName) {\n                        componentInstance[refName].value = $refEl;\n                    } else {\n                        console.warn(\n                            \"The data-ref name was not found in: \",\n                            $refEl,\n                        );\n                    }\n                });\n\n                // @note handle data-click\n                handlerClickReactive(\n                    $wrapper as HTMLElement,\n                    componentInstance,\n                );\n\n                // @note handle data-class\n                handlerClassesReactive(\n                    $wrapper as HTMLElement,\n                    componentInstance,\n                );\n\n                // @note handle input[data-value]\n                // ! @todo not tested!!!\n                handlerInputDataValueReactive($wrapper, componentInstance);\n            }\n        } else {\n            throw Error(\"Нет wrapper: .\" + wrapperClass);\n        }\n    }\n}\n\nexport function ref(defaultValue: any): State {\n    const stateNameHash = `state_${crypto.randomUUID()}`;\n    let state: State = { value: defaultValue };\n\n    const proxyState = new Proxy<State>(state, {\n        set(stateTarget, prop, valueNew) {\n            if (prop === \"value\") {\n                if (stateTarget[\"value\"] !== valueNew) {\n                    stateTarget[\"value\"] = valueNew;\n                    emitter.emit(stateNameHash, stateTarget);\n                }\n                return true;\n            }\n            return false;\n        },\n    });\n\n    stateNamesHashes.set(proxyState, stateNameHash);\n\n    emitter.emit(stateNameHash, proxyState);\n\n    return proxyState;\n}\n\nfunction handlerInputDataValueReactive($wrapper, instance) {\n    const dataValues = $wrapper.querySelectorAll(\n        `[data-value]`,\n    ) as NodeListOf<HTMLInputElement>;\n\n    dataValues.forEach(($dataValue) => {\n        const dataValue: string | null = $dataValue.dataset.value || null;\n\n        if (dataValue) {\n            const jsExpressionWithPrefix: string = dataValue;\n            let jsExpression = deleteWordPrefix(jsExpressionWithPrefix);\n            const state = instance[jsExpression];\n\n            $dataValue.value = state.value;\n            const stateNameHash = stateNamesHashes.get(state);\n            emitter.on(stateNameHash, (newState: any) => {\n                $dataValue.value = newState.value;\n            });\n        }\n    });\n}\n\nfunction handlerClickReactive(\n    $wrapper: HTMLElement,\n    instance: ComponentInstance,\n) {\n    const elClicks = $wrapper.querySelectorAll(\n        `[data-click]`,\n    ) as NodeListOf<HTMLElement>;\n    elClicks.forEach(($elOnClick) => {\n        $elOnClick.addEventListener(\"click\", function (e) {\n            let methodNameOnClick = $elOnClick.dataset.click;\n            if (methodNameOnClick) {\n                // ! Это для убирания префикса например header. - оно пока не мешает в случае если его нет вообще\n                const methodNameOnClickWithoutPrefix =\n                    deleteWordPrefix(methodNameOnClick);\n\n                const methodOnClick = instance[methodNameOnClickWithoutPrefix];\n                methodOnClick();\n            } else {\n                console.warn(\n                    \"The name of the data-click method was not found in: \",\n                    $elOnClick,\n                );\n            }\n        });\n    });\n}\n\nfunction handlerClassesReactive(\n    $wrapper: HTMLElement,\n    instance: ComponentInstance,\n) {\n    if ($wrapper.dataset && $wrapper.dataset.class) {\n        handlerClassesReactiveSubFunc1($wrapper);\n    }\n\n    const $elementsWithDataClasses = $wrapper.querySelectorAll(\n        \"[data-class]\",\n    ) as NodeListOf<HTMLElement>;\n    $elementsWithDataClasses.forEach(($el) => {\n        handlerClassesReactiveSubFunc1($el);\n    });\n\n    function handlerClassesReactiveSubFunc1($el: HTMLElement) {\n        let jsonString = $el.dataset.class;\n        if (jsonString) {\n            $el.removeAttribute(\"data-class\");\n\n            let parsedJson;\n            try {\n                parsedJson = JSON.parse(jsonString);\n            } catch (error) {\n                console.error(\"Error at JSON string: \" + jsonString);\n                console.error(error);\n            }\n\n            if (Array.isArray(parsedJson)) {\n                for (let i in parsedJson) {\n                    let jsExpressionTernary = parsedJson[i];\n\n                    const regex = /(.+?)\\s*\\?\\s*(.+?)\\s*:\\s*(.+)/;\n                    const match = jsExpressionTernary.match(regex);\n\n                    let jsNameWithPrefix = match[1];\n                    const classNameTrue = match[2];\n                    const classNameFalse = match[3];\n                    const className = [classNameTrue, classNameFalse];\n\n                    handlerClassesReactiveSubFunc2(\n                        $el,\n                        className,\n                        jsNameWithPrefix,\n                    );\n                }\n            } else if (isObject(parsedJson)) {\n                for (let className in parsedJson) {\n                    let jsNameWithPrefix = parsedJson[className];\n\n                    handlerClassesReactiveSubFunc2(\n                        $el,\n                        className,\n                        jsNameWithPrefix,\n                    );\n                }\n            }\n        } else {\n            console.warn(\"The data-class JSON string was not found in: \", $el);\n        }\n    }\n\n    function handlerClassesReactiveSubFunc2(\n        $el: HTMLElement,\n        className: string | string[],\n        jsNameWithPrefix: string,\n    ) {\n        let isRevertVal = false;\n        if (jsNameWithPrefix[0] === \"!\") {\n            isRevertVal = true;\n            jsNameWithPrefix = jsNameWithPrefix.slice(1);\n        }\n\n        let jsExpression = deleteWordPrefix(jsNameWithPrefix);\n\n        const isNotEqualExpression = jsExpression.includes(\"!=\");\n        const isEqualExpression = jsExpression.includes(\"==\");\n        if (isNotEqualExpression || isEqualExpression) {\n            if (isNotEqualExpression) {\n                const regex = /!=/;\n                const operator = \"!=\";\n                splitExpressionAndCompareAndUpdateClassesReactive(\n                    jsExpression,\n                    regex,\n                    operator,\n                    isRevertVal,\n                    className,\n                    $el,\n                );\n            } else if (isEqualExpression) {\n                const regex = /==/;\n                const operator = \"==\";\n                splitExpressionAndCompareAndUpdateClassesReactive(\n                    jsExpression,\n                    regex,\n                    operator,\n                    isRevertVal,\n                    className,\n                    $el,\n                );\n            }\n        } else {\n            const operator = \"==\";\n            const jsName = jsExpression;\n            const jsVal = true;\n            compareAndUpdateClassesReactive(\n                jsName,\n                jsVal,\n                operator,\n                isRevertVal,\n                className,\n                $el,\n            );\n        }\n    }\n\n    function splitExpressionAndCompareAndUpdateClassesReactive(\n        jsExpression: any,\n        regex: any,\n        operator: any,\n        isRevertVal: any,\n        className: any,\n        $el: any,\n    ) {\n        const res = splitExpression(jsExpression, regex);\n        if (res && res.length === 2) {\n            const [jsName, jsVal] = res;\n            compareAndUpdateClassesReactive(\n                jsName,\n                jsVal,\n                operator,\n                isRevertVal,\n                className,\n                $el,\n            );\n        }\n    }\n\n    function compareAndUpdateClassesReactive(\n        jsName: any,\n        jsVal: any,\n        operator: any,\n        isRevertVal: any,\n        className: any,\n        $el: any,\n    ) {\n        const state = instance[jsName];\n        const isTrue = compare(state.value, jsVal, operator);\n\n        toggleClass(isTrue, className, $el, isRevertVal);\n        const stateNameHash = stateNamesHashes.get(state);\n\n        emitter.on(stateNameHash, (newState: any) => {\n            const isTrue = compare(newState.value, jsVal, operator);\n            toggleClass(isTrue, className, $el, isRevertVal);\n        });\n    }\n\n    function toggleClass(\n        value: any,\n        className: string | string[],\n        where: HTMLElement,\n        isRevertVal = false,\n    ) {\n        try {\n            const isTrue = (value && !isRevertVal) || (!value && isRevertVal);\n            if (typeof className === \"string\") {\n                if (isTrue) {\n                    where.classList.add(className);\n                } else {\n                    where.classList.remove(className);\n                }\n            } else if (Array.isArray(className)) {\n                const [classIfTrue, classIfFalse] = className;\n                if (isTrue) {\n                    where.classList.remove(classIfFalse);\n                    where.classList.add(classIfTrue);\n                } else {\n                    where.classList.remove(classIfTrue);\n                    where.classList.add(classIfFalse);\n                }\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n}\n\n// @note tools:\nfunction isObject(value: any) {\n    return value !== null && typeof value === \"object\";\n}\n\nfunction deleteWordPrefix(strWithprefixWithDot: string) {\n    return strWithprefixWithDot.replace(/^\\w+\\./, \"\");\n}\n\nfunction splitExpression(\n    expression: string,\n    regex: RegExp,\n): [string, string] | null {\n    const parts = expression.split(regex);\n\n    if (parts.length === 2) {\n        return [parts[0].trim(), parts[1].trim()];\n    }\n\n    return null;\n}\n\nfunction compare(value1: any, value2: any, operator: string) {\n    switch (operator) {\n        case \"!=\":\n            return value1 != value2;\n        case \"==\":\n            return value1 == value2;\n        case \"<\":\n            return value1 < value2;\n        case \">\":\n            return value1 > value2;\n        case \"<=\":\n            return value1 <= value2;\n        case \">=\":\n            return value1 >= value2;\n        default:\n            throw new Error(\"Invalid operator\");\n    }\n}\n"],"names":["mitt","n","t","e","i","emitter","stateNamesHashes","createScope","scopeId","scope","alias","$wrapper","scopeInstance","handlerClickReactive","handlerClassesReactive","handlerInputDataValueReactive","createComponent","wrapperClass","component","wrappers","componentInstance","isObject","$refEl","refName","ref","defaultValue","stateNameHash","state","proxyState","stateTarget","prop","valueNew","instance","$dataValue","dataValue","jsExpression","deleteWordPrefix","newState","$elOnClick","methodNameOnClick","methodNameOnClickWithoutPrefix","methodOnClick","handlerClassesReactiveSubFunc1","$el","jsonString","parsedJson","error","jsExpressionTernary","regex","match","jsNameWithPrefix","classNameTrue","classNameFalse","handlerClassesReactiveSubFunc2","className","isRevertVal","isNotEqualExpression","isEqualExpression","splitExpressionAndCompareAndUpdateClassesReactive","compareAndUpdateClassesReactive","operator","res","splitExpression","jsName","jsVal","isTrue","compare","toggleClass","value","where","classIfTrue","classIfFalse","strWithprefixWithDot","expression","parts","value1","value2"],"mappings":"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","x_google_ignoreList":[0]}